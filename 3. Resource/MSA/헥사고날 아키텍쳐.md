
> [!faq] 헥사고날 아키텍쳐란?
> 우선 헥사고날 아키텍쳐는 핵심 비즈니스로직을 외부세계로부터 격리시켜 유연하고 테스트하기 쉬운 구조를 만드는 것이 목적입니다. 
> 
> 이를 위해, 핵심 비즈니스 로직은 중앙의 도메인 영역에 위치하며, 
> 외부와의 입출력은 포트와 어댑터를 통해 처리합니다.
> 
> ![[Pasted image 20240219112901.png]]
> 



> [!quote] 왜 Layered Architecture 에서 Hexagonal Architecture로 변경할까?
> 
> 우선 계층화 아키텍쳐는 다음과 같은 순서로 의존성을 가진다
> Presentation -> Application -> Persistence
> 
> 이제 예를 들어보자.
> 
> 계층화 아키텍쳐에서는 비즈니스 로직이 포함된 Repo. Interface정의
> eg. 송금(SendMoney)
>
   정의된 Repo. Interface를 DAO에서 구현
> eg. 송금(SendMoneyDAO) - 고객 조회, 계좌 잔액 조회
> 
> **비즈니스 로직이 DAO에 녹아져버림**
> -> Persistence 레이어에서 App 레이어로 역방향 의존성 발생


각 계층에서 하던일들을 "내부와 외부"라는 개념으로 나누어 각각에 맞는 별도의 인터페이스를 정의

 "내부"의 로직은 오직 "외부"를 통해서만 접근이 가능하다.
 - 모든 외부 시스템과의 직접적인 상호작용은 "어댑터"의 역할
 - 각 서비스에서 비즈니스 로직에 맞게 정의된 인터페이스는 "포트"
 - 즉, 외부서비스와의 상호작용(어댑터)는 비즈니스 로직과의 작업을 정의한 인터페이스(포트)랑만 서로 통신


> [!faq] 어댑터란
> 서비스 입장에서 이 서비스가 사용하는 외부 시스템과의 직접적인 구현 및 상호작용을 처리
> eg.
> - 외부 시스템(UI) 으로부터 들어온 Request가 가장 처음만나는 Controller는 "인바운드 어댑터"
> - 메시지 브로커(Kafka)로 부터 consume하는 동작을 처리하는 로직 핸들러는 "인바운드 어댑터"
> - DB(MySQL)에 직접적으로 접근하여 다양한 작업(CRUD)을 처리하기 위한 DAO는 "아웃바운드 어댑터"


> [!faq] 포트(Port)란?
> 비즈니스 로직 입장에서 어댑터와 통신하기 위한 동작을 정의한 인터페이스
> eg.
> - Controller로부터 들어온 요청으로부터 특정 비즈니스 로직을 수행하기 위한 동작을 정의한 인터페이스
> - Consume한 메세지를 처리하기 위한 비즈니스 로직의 동작을 정의한 인터페이스
> 
> *-> "인바운트 포트"*
> 
> - 비즈니스 로직에서 DB접근을 위해서 정의한 Repository 인터페이스 
> 
> *-> "아웃바운드 포트"*





> 
