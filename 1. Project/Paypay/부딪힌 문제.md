

> [!fail] spring 3.x.x 에서 멀티 모듈 gradle 구성 오류
> 프로젝트 루트 build.gradle에서 하위 모듈들의 공통 의존성을 관리해야하는데 
> java17이 적용이 안되어 고생했다.
> 
> 최상단 build.gradle에는 아래처럼 subprojects {} 안에 공통 의존성을 관리해야한다.

```json
subprojects {  
  
    apply plugin: 'java'  
    apply plugin: 'java-library'  
    apply plugin: 'org.springframework.boot'  
    apply plugin: 'io.spring.dependency-management'  
  
    sourceCompatibility = '17'  
  
    repositories {  
       mavenCentral()  
    }  
  
    dependencies {  
       compileOnly 'org.projectlombok:lombok'  
       annotationProcessor 'org.projectlombok:lombok'  
       annotationProcessor "org.springframework.boot:spring-boot-configuration-processor"  
       implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'  
       testImplementation 'com.tngtech.archunit:archunit:1.0.1'  
       testImplementation 'org.springframework.boot:spring-boot-starter-test'  
    }  
  
    tasks.named('test') {  
       useJUnitPlatform()  
    }  
}
```


